name: Logs
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - POST
    uri: api/v1/logs
    metadata:
      custom: []
      groupName: Logs
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Kirim log event ke sistem.'
      description: |-
        Contoh payload per log_type:

        DATA_CREATE
        ```json
        {"log_type":"DATA_CREATE","payload":{"user_id":2,"data":{"resource":"product","id":10,"name":"Laptop"}}}
        ```

        DATA_UPDATE
        ```json
        {"log_type":"DATA_UPDATE","payload":{"user_id":2,"before":{"id":10,"price":1000},"after":{"id":10,"price":1200}}}
        ```

        DATA_DELETE
        ```json
        {"log_type":"DATA_DELETE","payload":{"user_id":2,"id":10,"reason":"Deleted by admin"}}
        ```

        STATUS_CHANGE
        ```json
        {"log_type":"STATUS_CHANGE","payload":{"user_id":2,"id":99,"from":"draft","to":"published"}}
        ```

        ACCESS_ENDPOINT
        ```json
        {"log_type":"ACCESS_ENDPOINT","payload":{"user_id":2,"endpoint":"/products","method":"GET","status":200}}
        ```

        DOWNLOAD_DOCUMENT
        ```json
        {"log_type":"DOWNLOAD_DOCUMENT","payload":{"user_id":2,"document_id":"DOC-99","document_name":"report.pdf"}}
        ```

        SEND_EXTERNAL
        ```json
        {"log_type":"SEND_EXTERNAL","payload":{"user_id":2,"channel":"EMAIL","to":"customer@gmail.com","message":"Invoice sent"}}
        ```

        AUTH_LOGIN
        ```json
        {"log_type":"AUTH_LOGIN","payload":{"user_id":2,"email":"admin@gmail.com","device":"Chrome Windows"}}
        ```

        AUTH_LOGOUT
        ```json
        {"log_type":"AUTH_LOGOUT","payload":{"user_id":2,"email":"admin@gmail.com"}}
        ```

        AUTH_LOGIN_FAILED
        ```json
        {"log_type":"AUTH_LOGIN_FAILED","payload":{"user_id":null,"email":"admin@gmail.com","device":"Firefox Linux"}}
        ```

        BULK_IMPORT
        ```json
        {"log_type":"BULK_IMPORT","payload":{"user_id":2,"total_rows":100,"success":95,"failed":5,"file_name":"import.xlsx"}}
        ```

        BULK_EXPORT
        ```json
        {"log_type":"BULK_EXPORT","payload":{"user_id":2,"total_rows":200,"success":200,"failed":0,"file_name":"export.xlsx"}}
        ```

        SYSTEM_ERROR
        ```json
        {"log_type":"SYSTEM_ERROR","payload":{"message":"Route not defined","code":"RouteNotFoundException","context":{"url":"/products","method":"GET"}}}
        ```

        SECURITY_VIOLATION
        ```json
        {"log_type":"SECURITY_VIOLATION","payload":{"user_id":null,"reason":"Brute force attempt","meta":{"email":"admin@gmail.com","attempt":5}}}
        ```

        PERMISSION_CHANGE
        ```json
        {"log_type":"PERMISSION_CHANGE","payload":{"user_id":1,"target_user_id":2,"before":{"role":"user"},"after":{"role":"admin"}}}
        ```
      authenticated: true
      deprecated: false
    headers:
      X-API-Key: 'string required API Key aplikasi.'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      log_type:
        custom: []
        name: log_type
        description: 'Jenis log. Allowed: AUTH_LOGIN, AUTH_LOGOUT, AUTH_LOGIN_FAILED, ACCESS_ENDPOINT, DOWNLOAD_DOCUMENT, SEND_EXTERNAL, DATA_CREATE, DATA_UPDATE, DATA_DELETE, STATUS_CHANGE, BULK_IMPORT, BULK_EXPORT, SYSTEM_ERROR, SECURITY_VIOLATION, PERMISSION_CHANGE.'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload:
        custom: []
        name: payload
        description: 'Data log sesuai log_type.'
        required: true
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.user_id:
        custom: []
        name: payload.user_id
        description: 'ID user. Required untuk: ACCESS_ENDPOINT, DOWNLOAD_DOCUMENT, SEND_EXTERNAL, DATA_CREATE, DATA_UPDATE, DATA_DELETE, STATUS_CHANGE, BULK_IMPORT, BULK_EXPORT, PERMISSION_CHANGE. Nullable untuk AUTH_* dan SECURITY_VIOLATION.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.email:
        custom: []
        name: payload.email
        description: 'Email user. Required untuk: AUTH_LOGIN, AUTH_LOGOUT, AUTH_LOGIN_FAILED.'
        required: false
        example: gbailey@example.net
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.ip:
        custom: []
        name: payload.ip
        description: 'IP address. Optional untuk AUTH_* dan SECURITY_VIOLATION.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.device:
        custom: []
        name: payload.device
        description: 'Informasi device. Optional untuk AUTH_*.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.endpoint:
        custom: []
        name: payload.endpoint
        description: 'Endpoint yang diakses. Required untuk: ACCESS_ENDPOINT.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.method:
        custom: []
        name: payload.method
        description: 'HTTP method. Required untuk: ACCESS_ENDPOINT. Allowed: GET, POST, PUT, PATCH, DELETE.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.status:
        custom: []
        name: payload.status
        description: 'HTTP status code. Required untuk: ACCESS_ENDPOINT.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.document_id:
        custom: []
        name: payload.document_id
        description: 'ID dokumen. Required untuk: DOWNLOAD_DOCUMENT.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.document_name:
        custom: []
        name: payload.document_name
        description: 'Nama dokumen. Optional untuk: DOWNLOAD_DOCUMENT.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.channel:
        custom: []
        name: payload.channel
        description: 'Channel. Required untuk: SEND_EXTERNAL. Allowed: WA, EMAIL, API.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.to:
        custom: []
        name: payload.to
        description: 'Tujuan pengiriman. Required untuk: SEND_EXTERNAL. Juga digunakan sebagai status akhir untuk STATUS_CHANGE.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.message:
        custom: []
        name: payload.message
        description: 'Pesan. Required untuk: SYSTEM_ERROR. Optional untuk: SEND_EXTERNAL.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.meta:
        custom: []
        name: payload.meta
        description: 'Metadata tambahan. Optional untuk: SEND_EXTERNAL, SECURITY_VIOLATION.'
        required: false
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.data:
        custom: []
        name: payload.data
        description: 'Data yang dibuat. Required untuk: DATA_CREATE.'
        required: false
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.before:
        custom: []
        name: payload.before
        description: 'Data sebelum perubahan. Required untuk: DATA_UPDATE, PERMISSION_CHANGE.'
        required: false
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.after:
        custom: []
        name: payload.after
        description: 'Data sesudah perubahan. Required untuk: DATA_UPDATE, PERMISSION_CHANGE.'
        required: false
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.id:
        custom: []
        name: payload.id
        description: 'ID record. Required untuk: DATA_DELETE, STATUS_CHANGE.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.reason:
        custom: []
        name: payload.reason
        description: 'Alasan. Required untuk: SECURITY_VIOLATION. Optional untuk: DATA_DELETE.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.from:
        custom: []
        name: payload.from
        description: 'Status awal. Required untuk: STATUS_CHANGE.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.total_rows:
        custom: []
        name: payload.total_rows
        description: 'Total baris. Required untuk: BULK_IMPORT, BULK_EXPORT.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.success:
        custom: []
        name: payload.success
        description: 'Total sukses. Required untuk: BULK_IMPORT, BULK_EXPORT.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.failed:
        custom: []
        name: payload.failed
        description: 'Total gagal. Required untuk: BULK_IMPORT, BULK_EXPORT.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.file_name:
        custom: []
        name: payload.file_name
        description: 'Nama file. Optional untuk: BULK_IMPORT, BULK_EXPORT.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.code:
        custom: []
        name: payload.code
        description: 'Kode error. Optional untuk: SYSTEM_ERROR.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.trace_id:
        custom: []
        name: payload.trace_id
        description: 'Trace ID. Optional untuk: SYSTEM_ERROR.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.context:
        custom: []
        name: payload.context
        description: 'Konteks tambahan. Optional untuk: SYSTEM_ERROR.'
        required: false
        example: []
        type: object
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      payload.target_user_id:
        custom: []
        name: payload.target_user_id
        description: 'Target user ID. Required untuk: PERMISSION_CHANGE.'
        required: false
        example: 16
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanBodyParameters:
      log_type: architecto
      payload:
        user_id: 16
        email: gbailey@example.net
        ip: architecto
        device: architecto
        endpoint: architecto
        method: architecto
        status: 16
        document_id: architecto
        document_name: architecto
        channel: architecto
        to: architecto
        message: architecto
        meta: []
        data: []
        before: []
        after: []
        id: architecto
        reason: architecto
        from: architecto
        total_rows: 16
        success: 16
        failed: 16
        file_name: architecto
        code: architecto
        trace_id: architecto
        context: []
        target_user_id: 16
    fileParameters: []
    responses:
      -
        custom: []
        status: 202
        content: '{"success":true,"message":"Log received and queued for processing","queued_at":"2024-01-15 10:30:45"}'
        headers: []
        description: ''
      -
        custom: []
        status: 401
        content: '{"success":false,"message":"Invalid application context"}'
        headers: []
        description: ''
      -
        custom: []
        status: 422
        content: '{"success":false,"message":"Validation failed","errors":{"log_type":["The log_type field is required."]}}'
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - X-API-Key
      - 6g43cv8PD1aE5beadkZfhV6
    controller: null
    method: null
    route: null
